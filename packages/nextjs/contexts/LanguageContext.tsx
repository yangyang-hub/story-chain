"use client";

import React, { createContext, useContext, useEffect, useState } from "react";

type Language = "zh" | "en";

interface LanguageContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: string, params?: Record<string, string | number>) => string;
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

// ä¸­æ–‡ç¿»è¯‘
const zhTranslations: Record<string, string> = {
  // å¯¼èˆª
  "nav.home": "é¦–é¡µ",
  "nav.create": "åˆ›å»ºæ•…äº‹",
  "nav.explore": "æ¢ç´¢",
  "nav.debug": "åˆçº¦è°ƒè¯•",
  "nav.profile": "ä¸ªäººä¸­å¿ƒ",

  // ç«™ç‚¹æ ‡é¢˜
  "site.title": "StoryChain",
  "site.subtitle": "å»ä¸­å¿ƒåŒ–æ•…äº‹å¹³å°",

  // ä¸»é¡µ
  "welcome.to": "æ¬¢è¿æ¥åˆ°",
  "welcome.title": "StoryChain",
  "welcome.subtitle": "å»ä¸­å¿ƒåŒ–æ•…äº‹åˆ›ä½œå¹³å°",
  "welcome.description":
    "åœ¨è¿™é‡Œï¼Œæ¯ä¸ªæ•…äº‹éƒ½å¯ä»¥åˆ†å‰æˆæ— é™çš„å¯èƒ½æ€§ã€‚åˆ›å»ºã€ç»­å†™ã€åˆ†å‰æ•…äº‹ï¼Œä¸å…¨ä¸–ç•Œçš„åˆ›ä½œè€…ä¸€èµ·æ„å»ºæ•…äº‹å®‡å®™ã€‚",
  "welcome.get_started": "å¼€å§‹åˆ›ä½œ",
  "welcome.explore_stories": "æ¢ç´¢æ•…äº‹",
  "welcome.connect_wallet": "è¿æ¥é’±åŒ…",
  "welcome.connected_address": "å·²è¿æ¥åœ°å€",

  // æ•…äº‹ç›¸å…³
  "story.create": "åˆ›å»ºæ•…äº‹",
  "story.title": "æ•…äº‹æ ‡é¢˜",
  "story.content": "æ•…äº‹å†…å®¹",
  "story.fork_fee": "åˆ†å‰è´¹ç”¨",
  "story.create_story": "åˆ›å»ºæ•…äº‹",
  "story.add_chapter": "æ·»åŠ ç« èŠ‚",
  "story.fork_story": "åˆ†å‰æ•…äº‹",
  "story.like": "ç‚¹èµ",
  "story.comment": "è¯„è®º",
  "story.tip": "æ‰“èµ",
  "story.author": "ä½œè€…",
  "story.created_time": "åˆ›å»ºæ—¶é—´",
  "story.likes": "ç‚¹èµæ•°",
  "story.forks": "åˆ†å‰æ•°",
  "story.tips": "æ‰“èµæ”¶å…¥",
  "story.chapter": "ç« èŠ‚",
  "story.parent_chapter": "çˆ¶ç« èŠ‚",

  // æŒ‰é’®å’Œæ“ä½œ
  "button.create": "åˆ›å»º",
  "button.read": "é˜…è¯»",
  "button.save": "ä¿å­˜",
  "button.cancel": "å–æ¶ˆ",
  "button.submit": "æäº¤",
  "button.upload": "ä¸Šä¼ ",
  "button.download": "ä¸‹è½½",
  "button.edit": "ç¼–è¾‘",
  "button.delete": "åˆ é™¤",
  "button.confirm": "ç¡®è®¤",
  "button.back": "è¿”å›",
  "button.next": "ä¸‹ä¸€æ­¥",
  "button.previous": "ä¸Šä¸€æ­¥",
  "button.refresh": "åˆ·æ–°",

  // è¡¨å•
  "form.title.required": "æ ‡é¢˜å¿…å¡«",
  "form.content.required": "å†…å®¹å¿…å¡«",
  "form.fee.invalid": "è´¹ç”¨æ ¼å¼é”™è¯¯",
  "form.upload_image": "ä¸Šä¼ å›¾ç‰‡",
  "form.upload_file": "ä¸Šä¼ æ–‡ä»¶",

  // çŠ¶æ€æç¤º
  loading: "åŠ è½½ä¸­...",
  uploading: "ä¸Šä¼ ä¸­...",
  success: "æ“ä½œæˆåŠŸ",
  error: "æ“ä½œå¤±è´¥",
  connecting: "è¿æ¥ä¸­...",
  connected: "å·²è¿æ¥",
  disconnected: "æœªè¿æ¥",

  // ä¸»é¢˜åˆ‡æ¢
  "theme.light": "æµ…è‰²æ¨¡å¼",
  "theme.dark": "æ·±è‰²æ¨¡å¼",
  "theme.toggle": "åˆ‡æ¢ä¸»é¢˜",

  // è¯­è¨€åˆ‡æ¢
  "language.zh": "ä¸­æ–‡",
  "language.en": "English",
  "language.toggle": "åˆ‡æ¢è¯­è¨€",

  // IPFSç›¸å…³
  "ipfs.uploading": "ä¸Šä¼ åˆ°IPFSä¸­...",
  "ipfs.uploaded": "å·²ä¸Šä¼ åˆ°IPFS",
  "ipfs.error": "IPFSä¸Šä¼ å¤±è´¥",

  // äº¤æ˜“ç›¸å…³
  "transaction.pending": "äº¤æ˜“ç­‰å¾…ç¡®è®¤",
  "transaction.confirmed": "äº¤æ˜“å·²ç¡®è®¤",
  "transaction.failed": "äº¤æ˜“å¤±è´¥",
  "transaction.hash": "äº¤æ˜“å“ˆå¸Œ",

  // é’±åŒ…ç›¸å…³
  "wallet.connect": "è¿æ¥é’±åŒ…",
  "wallet.disconnect": "æ–­å¼€è¿æ¥",
  "wallet.account": "è´¦æˆ·",
  "wallet.balance": "ä½™é¢",
  "wallet.network": "ç½‘ç»œ",

  // é”™è¯¯ä¿¡æ¯
  "error.network": "ç½‘ç»œé”™è¯¯",
  "error.wallet": "é’±åŒ…é”™è¯¯",
  "error.contract": "åˆçº¦è°ƒç”¨é”™è¯¯",
  "error.ipfs": "IPFSé”™è¯¯",
  "error.unknown": "æœªçŸ¥é”™è¯¯",
  "error.missing_parameters": "ç¼ºå°‘å¿…è¦çš„å‚æ•°",

  // æˆåŠŸä¿¡æ¯
  "success.story_created": "æ•…äº‹åˆ›å»ºæˆåŠŸï¼",
  "success.chapter_added": "ç« èŠ‚æ·»åŠ æˆåŠŸï¼",
  "success.story_forked": "æ•…äº‹åˆ†å‰æˆåŠŸï¼",
  "success.liked": "ç‚¹èµæˆåŠŸï¼",
  "success.tipped": "æ‰“èµæˆåŠŸï¼",
  "success.comment_added": "è¯„è®ºæ·»åŠ æˆåŠŸï¼",

  // ä¸ªäººä¸­å¿ƒé¡µé¢
  "profile.title": "æˆ‘çš„åˆ›ä½œä¸­å¿ƒ",
  "profile.address": "åœ°å€",
  "profile.pending_rewards": "å¾…æå–å¥–åŠ±",
  "profile.stories": "æ•…äº‹",
  "profile.chapters": "ç« èŠ‚",
  "profile.likes": "è·èµ",
  "profile.forks": "è¢«åˆ†å‰",
  "profile.my_stories": "æˆ‘çš„æ•…äº‹",
  "profile.my_chapters": "æˆ‘çš„ç« èŠ‚",
  "profile.statistics": "ç»Ÿè®¡ä¿¡æ¯",
  "profile.withdraw": "æå–",
  "profile.empty_stories": "è¿˜æ²¡æœ‰åˆ›å»ºä»»ä½•æ•…äº‹",
  "profile.empty_chapters": "è¿˜æ²¡æœ‰åˆ›å»ºä»»ä½•ç« èŠ‚",
  "profile.load_failed": "åŠ è½½å¤±è´¥",
  "profile.retry": "é‡è¯•",
  "profile.create_new_story": "åˆ›å»ºæ–°æ•…äº‹",
  "profile.view": "æŸ¥çœ‹",
  "profile.view_story": "æŸ¥çœ‹æ•…äº‹",
  "profile.no_stories": "è¿˜æ²¡æœ‰åˆ›å»ºæ•…äº‹",
  "profile.no_chapters": "è¿˜æ²¡æœ‰åˆ›å»ºç« èŠ‚",
  "profile.start_creating": "å¼€å§‹ä½ çš„ç¬¬ä¸€ä¸ªåˆ›ä½œå§ï¼",
  "profile.explore_and_create": "ä¸ºä½ çš„æ•…äº‹æˆ–ä»–äººçš„æ•…äº‹æ·»åŠ ç« èŠ‚å§ï¼",
  "profile.explore_stories": "æ¢ç´¢æ•…äº‹",
  "profile.create_story": "åˆ›å»ºæ•…äº‹",
  "profile.detailed_stats": "è¯¦ç»†ç»Ÿè®¡",
  "profile.creation_stats": "åˆ›ä½œç»Ÿè®¡",
  "profile.interaction_stats": "äº’åŠ¨ç»Ÿè®¡",
  "profile.revenue_stats": "æ”¶ç›Šç»Ÿè®¡",
  "profile.total_stories": "æ€»æ•…äº‹æ•°",
  "profile.total_chapters": "æ€»ç« èŠ‚æ•°",
  "profile.avg_chapters_per_story": "å¹³å‡ç« èŠ‚/æ•…äº‹",
  "profile.total_likes": "æ€»ç‚¹èµæ•°",
  "profile.times_forked": "è¢«åˆ†å‰æ¬¡æ•°",
  "profile.pending_rewards_stat": "å¾…æå–å¥–åŠ±",
  "profile.tip_revenue": "æ‰“èµæ”¶ç›Š",
  "profile.fork_revenue": "åˆ†å‰æ”¶ç›Š",
  "profile.total_revenue": "æ€»æ”¶ç›Š",
  "profile.withdrawn": "å·²æå–",
  "profile.chapter_num": "ç¬¬{number}ç« ",

  // æ•…äº‹è¯¦æƒ…é¡µé¢
  "story.detail.loading": "åŠ è½½æ•…äº‹ä¸­...",
  "story.detail.not_found": "æ•…äº‹ä¸å­˜åœ¨",
  "story.detail.chapters": "ç« èŠ‚",
  "story.detail.chapter_tree": "ç« èŠ‚æ ‘",
  "story.detail.fork_point": "æ•…äº‹åˆ†å‰ç‚¹",
  "story.detail.continue": "ç»­å†™",
  "story.detail.fork": "åˆ†å‰",
  "story.detail.read": "é˜…è¯»",
  "story.detail.back_to_story": "è¿”å›æ•…äº‹",
  "story.detail.previous_chapter": "ä¸Šä¸€ç« ",
  "story.detail.next_chapter": "ä¸‹ä¸€ç« ",

  // ç« èŠ‚é¡µé¢
  "chapter.loading": "åŠ è½½ç« èŠ‚ä¸­...",
  "chapter.not_found": "ç« èŠ‚ä¸å­˜åœ¨",
  "chapter.number": "ç¬¬ {number} ç« ",
  "chapter.previous": "ä¸Šä¸€ç« ",
  "chapter.next": "ä¸‹ä¸€ç« ",

  // åˆ›å»ºé¡µé¢
  "create.title": "åˆ›å»ºä½ çš„ä¸“å±æ•…äº‹",
  "create.subtitle": "æ¯ä¸ªæ•…äº‹éƒ½æ˜¯ç‹¬ç‰¹çš„NFTã€‚å…¶ä»–ç”¨æˆ·å¯ä»¥åˆ†å‰ä½ çš„æ•…äº‹åˆ›é€ æ–°çš„åˆ†æ”¯ã€‚",
  "create.connect_wallet": "è¯·å…ˆè¿æ¥é’±åŒ…æ‰èƒ½åˆ›å»ºæ•…äº‹",
  "create.basic_info": "åŸºæœ¬ä¿¡æ¯",
  "create.story_title": "æ•…äº‹æ ‡é¢˜",
  "create.story_description": "æ•…äº‹æè¿°",
  "create.tags": "æ ‡ç­¾",
  "create.story_cover": "æ•…äº‹å°é¢",
  "create.creating": "åˆ›å»ºä¸­...",
  "create.title_placeholder": "è¾“å…¥å¸å¼•äººçš„æ•…äº‹æ ‡é¢˜...",
  "create.description_placeholder": "ç®€çŸ­æè¿°ä½ çš„æ•…äº‹...",
  "create.description_optional": "ï¼ˆå¯é€‰ï¼‰",
  "create.tags_separator": "ï¼ˆç”¨é€—å·åˆ†éš”ï¼‰",
  "create.tags_placeholder": "ç§‘å¹», æ‚¬ç–‘, å†’é™©...",

  // æ¢ç´¢é¡µé¢
  "explore.title": "æ¢ç´¢ç¤¾åŒºåˆ›ä½œçš„ç²¾å½©æ•…äº‹ï¼Œå‘ç°æ— é™çš„åˆ›æ„å¯èƒ½æ€§",
  "explore.search": "æœç´¢æ•…äº‹...",
  "explore.filter_by_author": "æŒ‰ä½œè€…ç­›é€‰",
  "explore.loading": "åŠ è½½ä¸­...",
  "explore.retry": "é‡è¯•åŠ è½½",
  "explore.no_stories": "æš‚æ— æ•…äº‹",
  "explore.search_placeholder": "æœç´¢æ•…äº‹æ ‡é¢˜ã€æè¿°ã€æ ‡ç­¾æˆ–ä½œè€…åœ°å€...",
  "explore.search_results": "æ‰¾åˆ° {count} ä¸ªæ•…äº‹",
  "explore.search_contains": "åŒ…å« \"{term}\"",
  "explore.clear_search": "æ¸…ç©º",
  "explore.clear_search_tooltip": "æ¸…ç©ºæœç´¢ (Esc)",
  "explore.sort_by": "æ’åºï¼š",
  "explore.sort_latest": "æœ€æ–°åˆ›å»º",
  "explore.sort_popular": "æœ€å—æ¬¢è¿",
  "explore.sort_tips": "æœ€å¤šæ‰“èµ",
  "explore.total_stories": "å…± {count} ä¸ªæ•…äº‹",
  "explore.load_error": "åŠ è½½æ•…äº‹å¤±è´¥: {error}",
  "explore.retry_button": "é‡è¯•",
  "explore.loading_stories": "æ­£åœ¨åŠ è½½æ•…äº‹...",
  "explore.story_alt": "æ•…äº‹ #{id}",
  "explore.error_load_failed": "åŠ è½½æ•…äº‹ä¿¡æ¯å¤±è´¥: {error}",
  "explore.error_notification": "æ•…äº‹ #{id} å…ƒæ•°æ®åŠ è½½å¤±è´¥",
  "explore.retry_load": "é‡è¯•åŠ è½½",
  "explore.read_button": "é˜…è¯»",
  "explore.no_stories_found": "æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„æ•…äº‹",
  "explore.search_suggestions": "å°è¯•ä½¿ç”¨ä¸åŒçš„å…³é”®è¯ï¼Œæˆ–è€…",
  "explore.clear_conditions": "æ¸…ç©ºæœç´¢æ¡ä»¶",
  "explore.suggested_searches": "å»ºè®®æœç´¢ï¼š",
  "explore.tag_scifi": "ç§‘å¹»",
  "explore.tag_adventure": "å†’é™©",
  "explore.tag_story": "æ•…äº‹",
  "explore.no_stories_yet": "è¿˜æ²¡æœ‰æ•…äº‹",
  "explore.be_first_creator": "æˆä¸ºç¬¬ä¸€ä¸ªåˆ›å»ºæ•…äº‹çš„äººï¼",
  "explore.create_tooltip": "åˆ›å»ºæ•…äº‹",

  // åˆ†å‰é¡µé¢
  "fork.title": "åŸºäºç°æœ‰ç« èŠ‚åˆ›å»ºæ–°çš„æ•…äº‹åˆ†æ”¯",
  "fork.original_story": "åŸå§‹æ•…äº‹",
  "fork.create_fork": "åˆ›å»ºåˆ†å‰",
  "fork.new_title": "æ–°æ•…äº‹æ ‡é¢˜",
  "fork.new_content": "æ–°æ•…äº‹å†…å®¹",

  // è¯„è®ºç³»ç»Ÿ
  "comment.title": "è¯„è®º",
  "comment.add": "å‘å¸ƒè¯„è®º",
  "comment.adding": "å‘å¸ƒä¸­...",
  "comment.connect_wallet": "è¯·è¿æ¥é’±åŒ…åå†å‘è¡¨è¯„è®º",
  "comment.empty": "è¿˜æ²¡æœ‰è¯„è®ºï¼Œæ¥å‘è¡¨ç¬¬ä¸€ä¸ªè¯„è®ºå§ï¼",
  "comment.placeholder": "å†™ä¸‹ä½ çš„è¯„è®º...",
  "comment.placeholder_story": "å¯¹è¿™ä¸ªæ•…äº‹è¯´ç‚¹ä»€ä¹ˆ...",
  "comment.placeholder_chapter": "å¯¹è¿™ä¸ªç« èŠ‚è¯´ç‚¹ä»€ä¹ˆ...",
  "comment.loading": "è¯„è®ºå†…å®¹æ­£åœ¨ä»IPFSåŠ è½½...",

  // IPFSå†…å®¹æ˜¾ç¤º
  "ipfs.load_failed": "åŠ è½½å¤±è´¥",
  "ipfs.load_content_failed": "åŠ è½½ IPFS å†…å®¹å¤±è´¥",
  "ipfs.load_preview_failed": "åŠ è½½é¢„è§ˆå¤±è´¥",
  "ipfs.copy_cid": "å¤åˆ¶ CID",
  "ipfs.copy_link": "å¤åˆ¶é“¾æ¥",
  "ipfs.title_label": "æ ‡é¢˜",
  "ipfs.description_label": "æè¿°",
  "ipfs.content_label": "å†…å®¹",
  "ipfs.author_label": "ä½œè€…",
  "ipfs.created_time_label": "åˆ›å»ºæ—¶é—´",
  "ipfs.attributes_label": "å±æ€§",
  "ipfs.tags_label": "æ ‡ç­¾",

  // IPFSä¸Šä¼ 
  "upload.file_size_exceeded": "æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡ {size}MB",
  "upload.upload_failed": "ä¸Šä¼ å¤±è´¥",
  "upload.click_or_drag": "ç‚¹å‡»ä¸Šä¼ æˆ–æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„",
  "upload.supported_types": "æ”¯æŒå›¾ç‰‡ã€æ–‡æœ¬ã€JSON ç­‰æ–‡ä»¶ç±»å‹",
  "upload.max_file_size": "æœ€å¤§æ–‡ä»¶å¤§å°: {size}MB",
  "upload.select_image_file": "è¯·é€‰æ‹©å›¾ç‰‡æ–‡ä»¶",
  "upload.image_size_exceeded": "å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 5MB",
  "upload.image_upload_failed": "å›¾ç‰‡ä¸Šä¼ å¤±è´¥",
  "upload.preview": "é¢„è§ˆ",
  "upload.image_formats": "PNG, JPG, GIF (æœ€å¤§ 5MB)",

  // ç‚¹èµç³»ç»Ÿ
  "like.liked": "å·²ç‚¹èµ",
  "like.like": "ç‚¹èµ",
  "like.connect_wallet": "è¯·å…ˆè¿æ¥é’±åŒ…",

  // æ‰“èµç³»ç»Ÿ
  "tip.title": "æ‰“èµ",
  "tip.amount": "æ‰“èµé‡‘é¢",
  "tip.send": "å‘é€æ‰“èµ",
  "tip.connect_wallet": "è¯·å…ˆè¿æ¥é’±åŒ…",
  "tip.story": "æ‰“èµæ•…äº‹",
  "tip.chapter": "æ‰“èµç« èŠ‚",
  "tip.story_author": "æ•…äº‹ä½œè€…",
  "tip.chapter_author": "ç« èŠ‚ä½œè€…",
  "tip.support_creation": "æ”¯æŒä¼˜è´¨å†…å®¹åˆ›ä½œ",
  "tip.select_amount": "é€‰æ‹©æ‰“èµé‡‘é¢",
  "tip.custom_amount": "è‡ªå®šä¹‰é‡‘é¢",
  "tip.enter_amount": "è¾“å…¥é‡‘é¢...",
  "tip.fee_distribution": "è´¹ç”¨åˆ†é…:",
  "tip.author_receive": "{author}: {amount} STT",
  "tip.story_author_receive": "æ•…äº‹ä½œè€…: {amount} STT",
  "tip.chapter_author_receive": "ç« èŠ‚ä½œè€…: {amount} STT",
  "tip.platform_fee": "å¹³å°æ‰‹ç»­è´¹: {amount} STT",
  "tip.tipping": "æ‰“èµä¸­...",
  "tip.success": "æ‰“èµæˆåŠŸï¼",
  "tip.failed": "æ‰“èµå¤±è´¥",

  // é¦–é¡µåŠŸèƒ½å¡ç‰‡
  "home.feature1.title": "å¼€å¯ä½ çš„åˆ›ä½œä¹‹æ—…ã€‚æ¯ä¸ªæ•…äº‹éƒ½æ˜¯ç‹¬ç‰¹çš„NFTã€‚",
  "home.feature2.title": "æ¢ç´¢å…¶ä»–åˆ›ä½œè€…çš„ç²¾å½©æ•…äº‹ï¼Œå‘ç°æ— é™çš„åˆ›æ„å¯èƒ½æ€§ã€‚",
  "home.feature3.title": "åˆ†å‰å–œæ¬¢çš„æ•…äº‹ï¼Œåˆ›é€ å±äºä½ çš„æ•…äº‹åˆ†æ”¯å’Œç»“å±€ã€‚",

  // æ•…äº‹è¯¦æƒ…é¡µé¢ä¸“ç”¨ç¿»è¯‘é”®
  "story.detail.back": "è¿”å›",
  "story.detail.updating": "æ­£åœ¨æ›´æ–°æ•°æ®...",
  "story.detail.story_cover": "æ•…äº‹å°é¢",
  "story.detail.story_tags": "æ•…äº‹æ ‡ç­¾",
  "story.detail.story_structure": "æ•…äº‹ç»“æ„",
  "story.detail.total_chapters": "æ€»ç« èŠ‚",
  "story.detail.fork_points": "åˆ†å‰ç‚¹",
  "story.detail.tree_help": "ç‚¹å‡»èŠ‚ç‚¹å¯æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼Œä½¿ç”¨æ“ä½œæŒ‰é’®è¿›è¡Œäº’åŠ¨",
  "story.detail.no_chapters": "è¿˜æ²¡æœ‰ç« èŠ‚",
  "story.detail.no_chapters_desc": "ä»»ä½•äººéƒ½å¯ä»¥ä¸ºè¿™ä¸ªæ•…äº‹æ·»åŠ ç¬¬ä¸€ç« ï¼Œå¼€å§‹ç²¾å½©çš„æ•…äº‹ä¹‹æ—…",
  "story.detail.add_first_chapter": "æ·»åŠ ç¬¬ä¸€ç« ",
  "story.detail.continue_first_chapter": "ç»­å†™ç¬¬ä¸€ç« ",
  "story.detail.connect_wallet_desc": "è¿æ¥é’±åŒ…åå³å¯æ·»åŠ ç¬¬ä¸€ç« ",
  "story.detail.continue_latest": "ç»­å†™æœ€æ–°ç« èŠ‚",
  "story.detail.fork_latest": "åˆ†å‰æœ€æ–°ç« èŠ‚",
  "story.detail.add_chapter_tooltip": "æ·»åŠ æ–°ç« èŠ‚ï¼ˆä»…æ•…äº‹ä½œè€…å¯æ“ä½œï¼‰",
  "story.detail.continue_story": "ç»­å†™æ•…äº‹",
  "story.detail.fork_story_button": "åˆ†å‰æ•…äº‹",
  "story.detail.fork_story_tooltip": "åŸºäºè¿™ä¸ªæ•…äº‹åˆ›å»ºåˆ†å‰",
  "story.detail.connect_wallet_actions": "è¿æ¥é’±åŒ…åå¯ç»­å†™ç« èŠ‚æˆ–åˆ›å»ºåˆ†å‰",
  "story.detail.story_not_found": "æ•…äº‹ä¸å­˜åœ¨æˆ–åŠ è½½å¤±è´¥",
  "story.detail.load_failed": "åŠ è½½å¤±è´¥",
  "story.detail.retry": "é‡è¯•",

  // ç« èŠ‚ç›¸å…³ç¿»è¯‘é”®
  "chapter.title": "ç¬¬ {number} ç« ",
  "chapter.author_label": "ä½œè€…:",
  "chapter.fork_fee_label": "åˆ†å‰è´¹ç”¨: {fee} STT",
  "chapter.reading_detail": "ç‚¹å‡»é˜…è¯»è¯¦ç»†å†…å®¹",
  "chapter.forks_count": "{count} ä¸ªåˆ†å‰",
  "chapter.branches_count": "{count} ä¸ªåˆ†æ”¯",
  "chapter.story_fork_here": "æ•…äº‹åœ¨æ­¤åˆ†å‰",
  "chapter.fork_description":
    "ç¬¬ {number} ç« ä¹‹åæœ‰ {count} ä¸ªä¸åŒçš„å‘å±•æ–¹å‘ï¼Œæ¯ä¸ªåˆ†æ”¯éƒ½å¸¦æ¥ä¸åŒçš„æ•…äº‹ä½“éªŒã€‚é€‰æ‹©ä½ æ„Ÿå…´è¶£çš„åˆ†æ”¯ç»§ç»­é˜…è¯»ï¼š",
  "chapter.select_branch": "é€‰æ‹©åˆ†æ”¯ ({count})",
  "chapter.branch_label": "åˆ†æ”¯ {letter}",
  "chapter.read_chapter": "é˜…è¯»ç« èŠ‚",
  "chapter.continue_chapter": "ç»­å†™",
  "chapter.fork_chapter": "åˆ†å‰",
  "chapter.tip_chapter": "æ‰“èµ",
  "chapter.connect_wallet_tip": "è¯·å…ˆè¿æ¥é’±åŒ…",
  "chapter.tip_tooltip": "ç»™ç« èŠ‚ä½œè€…æ‰“èµ",
  "chapter.continue_tooltip": "ç»­å†™æ­¤ç« èŠ‚",
  "chapter.fork_tooltip_base": "åŸºäºæ­¤ç« èŠ‚åˆ›å»ºåˆ†å‰",
  "chapter.fork_tooltip_fee": "åŸºäºæ­¤ç« èŠ‚åˆ›å»ºåˆ†å‰ (éœ€æ”¯ä»˜ {fee} STT)",
  "chapter.fork_fee_badge": "{fee} STT",
  "chapter.only_author_continue": "åªæœ‰ç« èŠ‚ä½œè€…å¯ä»¥ç»­å†™è‡ªå·±çš„ç« èŠ‚",
  "chapter.only_latest_continue": "åªæœ‰æœ€æ–°ç« èŠ‚æ‰èƒ½ç»­å†™",
  "chapter.continue_this_chapter": "ç»­å†™æ­¤ç« èŠ‚",
  "chapter.has_forks": "æ­¤ç« èŠ‚æœ‰ {count} ä¸ªåˆ†å‰",
  "chapter.loading_title": "âš ï¸ ç« èŠ‚æ ‡é¢˜åŠ è½½ä¸­...",
  "chapter.loading_content": "æ­£åœ¨åŠ è½½ç« èŠ‚æ ‡é¢˜...",
  "chapter.retry_loading": "é‡æ–°åŠ è½½ç« èŠ‚ä¿¡æ¯",
  "chapter.loading_error_new": "æ–°ç« èŠ‚å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ—¶é—´åŒæ­¥ï¼Œè¯·ç¨åå†è¯•",
  "chapter.info_loading": "ğŸ“– ç« èŠ‚ä¿¡æ¯åŠ è½½ä¸­...",
  "chapter.reloading": "æ­£åœ¨é‡æ–°åŠ è½½ç« èŠ‚ä¿¡æ¯...",

  // æ¨¡æ€æ¡†ç¿»è¯‘é”®
  "modal.add_chapter.title": "æ·»åŠ æ–°ç« èŠ‚",
  "modal.add_chapter.chapter_title": "ç« èŠ‚æ ‡é¢˜ *",
  "modal.add_chapter.chapter_content": "ç« èŠ‚å†…å®¹ *",
  "modal.add_chapter.title_placeholder": "è¾“å…¥ç« èŠ‚æ ‡é¢˜...",
  "modal.add_chapter.content_placeholder": "ç»§ç»­ä½ çš„æ•…äº‹...",
  "modal.add_chapter.fork_fee": "åˆ†å‰è´¹ç”¨",
  "modal.add_chapter.fork_fee_unit": "STT",
  "modal.add_chapter.chapter_image": "ç« èŠ‚æ’å›¾",
  "modal.add_chapter.creating": "åˆ›å»ºä¸­...",
  "modal.add_chapter.create": "åˆ›å»ºç« èŠ‚",
  "modal.continue_chapter.title": "ç»­å†™ç« èŠ‚ - ç¬¬ {number} ç« ",
  "modal.continue_chapter.based_on": "åŸºäºç« èŠ‚ï¼š",
  "modal.continue_chapter.content_placeholder": "ç»§ç»­è¿™ä¸ªæ•…äº‹...",
  "modal.continue_chapter.fork_fee_desc": "STT (å…¶ä»–ç”¨æˆ·ç»­å†™æ­¤ç« èŠ‚æ—¶éœ€æ”¯ä»˜)",
  "modal.continue_chapter.continuing": "ç»­å†™ä¸­...",
  "modal.continue_chapter.continue": "ç»­å†™ç« èŠ‚",
  "modal.fork_chapter.title": "åˆ›å»ºç« èŠ‚åˆ†å‰",
  "modal.fork_chapter.fork_title": "åˆ†å‰ç« èŠ‚æ ‡é¢˜ *",
  "modal.fork_chapter.fork_content": "åˆ†å‰å†…å®¹ *",
  "modal.fork_chapter.title_placeholder": "è¾“å…¥åˆ†å‰ç« èŠ‚çš„æ ‡é¢˜...",
  "modal.fork_chapter.content_placeholder": "ä»è¿™é‡Œå¼€å§‹ä½ çš„åˆ†å‰ç« èŠ‚...",
  "modal.fork_chapter.fork_fee_desc": "STT (å…¶ä»–ç”¨æˆ·ç»­å†™æ­¤åˆ†å‰ç« èŠ‚æ—¶éœ€æ”¯ä»˜)",
  "modal.fork_chapter.chapter_note": "å°†åˆ›å»ºä¸€ä¸ªæ–°çš„ç« èŠ‚åˆ†æ”¯ï¼Œä»å±äºå½“å‰æ•…äº‹",
  "modal.fork_chapter.fee_required": "éœ€è¦æ”¯ä»˜åˆ†å‰è´¹ç”¨",
  "modal.fork_chapter.fee_description": "åˆ†å‰æ­¤ç« èŠ‚éœ€è¦æ”¯ä»˜ {fee} STT",
  "modal.fork_chapter.forking": "åˆ†å‰ä¸­...",
  "modal.fork_chapter.fork_button": "åˆ›å»ºç« èŠ‚åˆ†å‰",
  "modal.fork_chapter.fork_button_fee": "æ”¯ä»˜ {fee} STT å¹¶åˆ›å»ºåˆ†å‰",

  // é”™è¯¯å’ŒæˆåŠŸæ¶ˆæ¯
  "error.wallet_connect_required": "è¯·å…ˆè¿æ¥é’±åŒ…",
  "error.title_content_required": "æ ‡é¢˜å’Œå†…å®¹ä¸èƒ½ä¸ºç©º",
  "error.chapter_not_exist": "ç« èŠ‚ä¸å­˜åœ¨",
  "error.only_author_continue": "åªæœ‰ç« èŠ‚ä½œè€…å¯ä»¥ç»­å†™è‡ªå·±çš„ç« èŠ‚",
  "error.chapter_create_failed": "åˆ›å»ºå¤±è´¥",
  "error.chapter_continue_failed": "ç»­å†™å¤±è´¥",
  "error.chapter_fork_failed": "åˆ†å‰å¤±è´¥",
  "error.tip_failed": "æ‰“èµå¤±è´¥",
  "error.metadata_load_failed": "åŠ è½½ç« èŠ‚å…ƒæ•°æ®å¤±è´¥",
  "success.chapter_created": "ç« èŠ‚åˆ›å»ºæˆåŠŸï¼",
  "success.chapter_continued": "ç« èŠ‚ç»­å†™æˆåŠŸï¼",
  "success.chapter_forked": "ç« èŠ‚åˆ†å‰æˆåŠŸï¼",
  "prompt.tip_amount": "è¯·è¾“å…¥æ‰“èµé‡‘é¢ (STT):",
  "prompt.fork_confirm": "åˆ†å‰æ­¤ç« èŠ‚éœ€è¦æ”¯ä»˜ {fee} STT ç»™åŸä½œè€…ã€‚ç¡®å®šè¦ç»§ç»­å—ï¼Ÿ",

  // ç« èŠ‚é˜…è¯»é¡µé¢ä¸“ç”¨ç¿»è¯‘é”®
  "chapter.read.loading": "åŠ è½½ç« èŠ‚ä¸­...",
  "chapter.read.not_found": "ç« èŠ‚ä¸å­˜åœ¨",
  "chapter.read.back_to_story": "è¿”å›æ•…äº‹",
  "chapter.read.previous": "ä¸Šä¸€ç« ",
  "chapter.read.next": "ä¸‹ä¸€ç« ",
  "chapter.read.tip": "æ‰“èµ",
  "chapter.read.continue": "ç»­å†™",
  "chapter.read.fork": "åˆ†å‰",
  "chapter.read.story_number": "æ•…äº‹ #{id}",
  "chapter.read.chapter_number": "ç¬¬ {number} ç« ",
  "chapter.read.story_fork_point": "æ•…äº‹åˆ†å‰ç‚¹",
  "chapter.read.fork_description": "è¿™é‡Œæœ‰ {count} ä¸ªä¸åŒçš„æ•…äº‹å‘å±•æ–¹å‘ï¼Œé€‰æ‹©ä¸€ä¸ªç»§ç»­é˜…è¯»ï¼š",
  "chapter.read.branch_label": "åˆ†æ”¯ {number}",
  "chapter.read.current": "å½“å‰",
  "chapter.read.click_to_read": "ç‚¹å‡»é˜…è¯»è¿™ä¸ªåˆ†æ”¯",
  "chapter.read.tip_earned": "{amount} STT",
  "chapter.read.next_branches": "ä¸‹ä¸€ç«  ({count})",
  "chapter.read.invalid_content_id": "æ— æ•ˆçš„å†…å®¹æ ‡è¯†",
  "chapter.read.content_empty": "å†…å®¹ä¸ºç©º",
  "chapter.read.load_content_failed": "åŠ è½½å†…å®¹å¤±è´¥",
  "chapter.read.chapter_image": "ç« èŠ‚æ’å›¾",
  "chapter.read.get_data_failed": "è·å–æ•°æ®å¤±è´¥",
  "chapter.read.load_story_metadata_failed": "åŠ è½½æ•…äº‹å…ƒæ•°æ®å¤±è´¥",
  "chapter.read.get_chapters_failed": "è·å–ç« èŠ‚æ•°æ®å¤±è´¥",
  "chapter.read.connect_wallet_first": "è¯·å…ˆè¿æ¥é’±åŒ…",
  "chapter.read.input_tip_amount": "è¾“å…¥æ‰“èµé‡‘é¢ (STT):",
  "chapter.read.tip_success": "æ‰“èµæˆåŠŸï¼",
  "chapter.read.tip_failed": "æ‰“èµå¤±è´¥",
  "chapter.read.return_to_story": "è¿”å›æ•…äº‹é¡µé¢",
  "chapter.read.connect_wallet_tip": "è¯·å…ˆè¿æ¥é’±åŒ…",
  "chapter.read.tip_author": "ç»™ç« èŠ‚ä½œè€…æ‰“èµ",

  // åˆ†å‰é¡µé¢
  "fork.missing_story_id": "ç¼ºå°‘æ•…äº‹IDå‚æ•°",
  "fork.original_content_not_found": "åŸå§‹å†…å®¹ä¸å­˜åœ¨æˆ–åŠ è½½å¤±è´¥",
  "fork.back": "è¿”å›",
  "fork.chapter_subtitle": "åŸºäºç°æœ‰ç« èŠ‚åˆ›å»ºæ–°çš„æ•…äº‹åˆ†æ”¯",
  "fork.story_subtitle": "åŸºäºç°æœ‰æ•…äº‹åˆ›å»ºæ–°çš„æ•…äº‹çº¿",
  "fork.fee_required_title": "éœ€è¦æ”¯ä»˜åˆ†å‰è´¹ç”¨",
  "fork.fee_required_desc": "åˆ†å‰æ­¤{type}éœ€è¦æ”¯ä»˜ {fee} STT ç»™åŸä½œè€…",
  "fork.original_story": "åŸå§‹æ•…äº‹",
  "fork.original_chapter": "åŸå§‹ç« èŠ‚",
  "fork.likes": "ç‚¹èµ",
  "fork.forks": "åˆ†å‰",
  "fork.fork_fee_label": "åˆ†å‰è´¹",
  "fork.create_fork": "åˆ›å»ºåˆ†å‰",
  "fork.basic_info": "åŸºæœ¬ä¿¡æ¯",
  "fork.fork_title": "åˆ†å‰æ ‡é¢˜ *",
  "fork.fork_title_placeholder": "ä¸ºä½ çš„åˆ†å‰èµ·ä¸ªæ ‡é¢˜...",
  "fork.fork_content": "åˆ†å‰å†…å®¹ *",
  "fork.fork_content_placeholder": "ç»§ç»­è¿™ä¸ªæ•…äº‹...",
  "fork.characters": "å­—ç¬¦",
  "fork.chapter_illustration": "ç« èŠ‚æ’å›¾",
  "fork.economic_settings": "ç»æµè®¾ç½®",
  "fork.my_fork_fee": "æˆ‘çš„åˆ†å‰è´¹ç”¨",
  "fork.fork_fee_description": "å…¶ä»–ç”¨æˆ·åˆ†å‰ä½ çš„å†…å®¹æ—¶éœ€è¦æ”¯ä»˜çš„è´¹ç”¨",
  "fork.fee_distribution": "è´¹ç”¨åˆ†é…:",
  "fork.you_pay": "ä½ éœ€è¦æ”¯ä»˜: {fee} STT",
  "fork.story_author_gets": "åŸæ•…äº‹ä½œè€…å°†è·å¾—: {amount} STT",
  "fork.chapter_author_gets": "åŸç« èŠ‚ä½œè€…å°†è·å¾—: {amount} STT",
  "fork.platform_fee": "å¹³å°æ‰‹ç»­è´¹: {amount} STT",
  "fork.forking": "åˆ†å‰ä¸­...",
  "fork.create_fork_button": "åˆ›å»ºåˆ†å‰",
};

// è‹±æ–‡ç¿»è¯‘
const enTranslations: Record<string, string> = {
  // Navigation
  "nav.home": "Home",
  "nav.create": "Create Story",
  "nav.explore": "Explore",
  "nav.debug": "Debug Contracts",
  "nav.profile": "Profile",

  // Site title
  "site.title": "StoryChain",
  "site.subtitle": "Decentralized Story Platform",

  // Home page
  "welcome.to": "Welcome to",
  "welcome.title": "StoryChain",
  "welcome.subtitle": "Decentralized Story Creation Platform",
  "welcome.description":
    "Here, every story can fork into infinite possibilities. Create, continue, and fork stories with creators worldwide to build a story universe.",
  "welcome.get_started": "Get Started",
  "welcome.explore_stories": "Explore Stories",
  "welcome.connect_wallet": "Connect Wallet",
  "welcome.connected_address": "Connected Address",

  // Story related
  "story.create": "Create Story",
  "story.title": "Story Title",
  "story.content": "Story Content",
  "story.fork_fee": "Fork Fee",
  "story.create_story": "Create Story",
  "story.add_chapter": "Add Chapter",
  "story.fork_story": "Fork Story",
  "story.like": "Like",
  "story.comment": "Comment",
  "story.tip": "Tip",
  "story.author": "Author",
  "story.created_time": "Created Time",
  "story.likes": "Likes",
  "story.forks": "Forks",
  "story.tips": "Tips Earned",
  "story.chapter": "Chapter",
  "story.parent_chapter": "Parent Chapter",

  // Buttons and actions
  "button.create": "Create",
  "button.read": "Read",
  "button.save": "Save",
  "button.cancel": "Cancel",
  "button.submit": "Submit",
  "button.upload": "Upload",
  "button.download": "Download",
  "button.edit": "Edit",
  "button.delete": "Delete",
  "button.confirm": "Confirm",
  "button.back": "Back",
  "button.next": "Next",
  "button.previous": "Previous",
  "button.refresh": "Refresh",

  // Form
  "form.title.required": "Title is required",
  "form.content.required": "Content is required",
  "form.fee.invalid": "Invalid fee format",
  "form.upload_image": "Upload Image",
  "form.upload_file": "Upload File",

  // Status messages
  loading: "Loading...",
  uploading: "Uploading...",
  success: "Success",
  error: "Error",
  connecting: "Connecting...",
  connected: "Connected",
  disconnected: "Disconnected",

  // Theme toggle
  "theme.light": "Light Mode",
  "theme.dark": "Dark Mode",
  "theme.toggle": "Toggle Theme",

  // Language toggle
  "language.zh": "ä¸­æ–‡",
  "language.en": "English",
  "language.toggle": "Toggle Language",

  // IPFS related
  "ipfs.uploading": "Uploading to IPFS...",
  "ipfs.uploaded": "Uploaded to IPFS",
  "ipfs.error": "IPFS upload failed",

  // Transaction related
  "transaction.pending": "Transaction pending",
  "transaction.confirmed": "Transaction confirmed",
  "transaction.failed": "Transaction failed",
  "transaction.hash": "Transaction Hash",

  // Wallet related
  "wallet.connect": "Connect Wallet",
  "wallet.disconnect": "Disconnect",
  "wallet.account": "Account",
  "wallet.balance": "Balance",
  "wallet.network": "Network",

  // Error messages
  "error.network": "Network error",
  "error.wallet": "Wallet error",
  "error.contract": "Contract call error",
  "error.ipfs": "IPFS error",
  "error.unknown": "Unknown error",
  "error.missing_parameters": "Missing required parameters",

  // Success messages
  "success.story_created": "Story created successfully!",
  "success.chapter_added": "Chapter added successfully!",
  "success.story_forked": "Story forked successfully!",
  "success.liked": "Liked successfully!",
  "success.tipped": "Tipped successfully!",
  "success.comment_added": "Comment added successfully!",

  // Profile page
  "profile.title": "My Creative Center",
  "profile.address": "Address",
  "profile.pending_rewards": "Pending Rewards",
  "profile.stories": "Stories",
  "profile.chapters": "Chapters",
  "profile.likes": "Likes",
  "profile.forks": "Forks",
  "profile.my_stories": "My Stories",
  "profile.my_chapters": "My Chapters",
  "profile.statistics": "Statistics",
  "profile.withdraw": "Withdraw",
  "profile.empty_stories": "No stories created yet",
  "profile.empty_chapters": "No chapters created yet",
  "profile.load_failed": "Load Failed",
  "profile.retry": "Retry",
  "profile.create_new_story": "Create New Story",
  "profile.view": "View",
  "profile.view_story": "View Story",
  "profile.no_stories": "No stories created yet",
  "profile.no_chapters": "No chapters created yet",
  "profile.start_creating": "Start your first creation!",
  "profile.explore_and_create": "Add chapters to your stories or others' stories!",
  "profile.explore_stories": "Explore Stories",
  "profile.create_story": "Create Story",
  "profile.detailed_stats": "Detailed Statistics",
  "profile.creation_stats": "Creation Statistics",
  "profile.interaction_stats": "Interaction Statistics",
  "profile.revenue_stats": "Revenue Statistics",
  "profile.total_stories": "Total Stories",
  "profile.total_chapters": "Total Chapters",
  "profile.avg_chapters_per_story": "Avg Chapters/Story",
  "profile.total_likes": "Total Likes",
  "profile.times_forked": "Times Forked",
  "profile.pending_rewards_stat": "Pending Rewards",
  "profile.tip_revenue": "Tip Revenue",
  "profile.fork_revenue": "Fork Revenue",
  "profile.total_revenue": "Total Revenue",
  "profile.withdrawn": "Withdrawn",
  "profile.chapter_num": "Chapter {number}",

  // Story detail page
  "story.detail.loading": "Loading story...",
  "story.detail.not_found": "Story not found",
  "story.detail.chapters": "Chapters",
  "story.detail.chapter_tree": "Chapter Tree",
  "story.detail.fork_point": "Story Fork Point",
  "story.detail.continue": "Continue",
  "story.detail.fork": "Fork",
  "story.detail.read": "Read",
  "story.detail.back_to_story": "Back to Story",
  "story.detail.previous_chapter": "Previous Chapter",
  "story.detail.next_chapter": "Next Chapter",

  // Chapter page
  "chapter.loading": "Loading chapter...",
  "chapter.not_found": "Chapter not found",
  "chapter.number": "Chapter {number}",
  "chapter.previous": "Previous",
  "chapter.next": "Next",

  // Create page
  "create.title": "Create Your Unique Story",
  "create.subtitle": "Each story is a unique NFT. Others can fork your story to create new branches.",
  "create.connect_wallet": "Please connect wallet to create story",
  "create.basic_info": "Basic Information",
  "create.story_title": "Story Title",
  "create.story_description": "Story Description",
  "create.tags": "Tags",
  "create.story_cover": "Story Cover",
  "create.creating": "Creating...",
  "create.title_placeholder": "Enter an attractive story title...",
  "create.description_placeholder": "Brief description of your story...",
  "create.description_optional": "(Optional)",
  "create.tags_separator": "(Separated by commas)",
  "create.tags_placeholder": "Sci-fi, Mystery, Adventure...",

  // Explore page
  "explore.title": "Explore amazing stories created by the community, discover infinite creative possibilities",
  "explore.search": "Search stories...",
  "explore.filter_by_author": "Filter by author",
  "explore.loading": "Loading...",
  "explore.retry": "Retry loading",
  "explore.no_stories": "No stories found",
  "explore.search_placeholder": "Search story titles, descriptions, tags or author addresses...",
  "explore.search_results": "Found {count} stories",
  "explore.search_contains": "containing \"{term}\"",
  "explore.clear_search": "Clear",
  "explore.clear_search_tooltip": "Clear search (Esc)",
  "explore.sort_by": "Sort by:",
  "explore.sort_latest": "Latest Created",
  "explore.sort_popular": "Most Popular",
  "explore.sort_tips": "Most Tipped",
  "explore.total_stories": "Total {count} stories",
  "explore.load_error": "Failed to load stories: {error}",
  "explore.retry_button": "Retry",
  "explore.loading_stories": "Loading stories...",
  "explore.story_alt": "Story #{id}",
  "explore.error_load_failed": "Failed to load story info: {error}",
  "explore.error_notification": "Story #{id} metadata loading failed",
  "explore.retry_load": "Retry loading",
  "explore.read_button": "Read",
  "explore.no_stories_found": "No matching stories found",
  "explore.search_suggestions": "Try different keywords, or",
  "explore.clear_conditions": "clear search conditions",
  "explore.suggested_searches": "Suggested searches:",
  "explore.tag_scifi": "Sci-fi",
  "explore.tag_adventure": "Adventure",
  "explore.tag_story": "Story",
  "explore.no_stories_yet": "No stories yet",
  "explore.be_first_creator": "Be the first to create a story!",
  "explore.create_tooltip": "Create Story",

  // Fork page
  "fork.title": "Create new story branch based on existing chapter",
  "fork.original_story": "Original Story",
  "fork.create_fork": "Create Fork",
  "fork.new_title": "New Story Title",
  "fork.new_content": "New Story Content",

  // Comment system
  "comment.title": "Comments",
  "comment.add": "Post Comment",
  "comment.adding": "Posting...",
  "comment.connect_wallet": "Please connect wallet to comment",
  "comment.empty": "No comments yet, be the first to comment!",
  "comment.placeholder": "Write your comment...",
  "comment.placeholder_story": "Say something about this story...",
  "comment.placeholder_chapter": "Say something about this chapter...",
  "comment.loading": "Loading comment content from IPFS...",

  // IPFS content display
  "ipfs.load_failed": "Load failed",
  "ipfs.load_content_failed": "Failed to load IPFS content",
  "ipfs.load_preview_failed": "Failed to load preview",
  "ipfs.copy_cid": "Copy CID",
  "ipfs.copy_link": "Copy Link",
  "ipfs.title_label": "Title",
  "ipfs.description_label": "Description",
  "ipfs.content_label": "Content",
  "ipfs.author_label": "Author",
  "ipfs.created_time_label": "Created Time",
  "ipfs.attributes_label": "Attributes",
  "ipfs.tags_label": "Tags",

  // IPFS upload
  "upload.file_size_exceeded": "File size cannot exceed {size}MB",
  "upload.upload_failed": "Upload failed",
  "upload.click_or_drag": "Click to upload or drag files here",
  "upload.supported_types": "Supports image, text, JSON and other file types",
  "upload.max_file_size": "Max file size: {size}MB",
  "upload.select_image_file": "Please select an image file",
  "upload.image_size_exceeded": "Image size cannot exceed 5MB",
  "upload.image_upload_failed": "Image upload failed",
  "upload.preview": "Preview",
  "upload.image_formats": "PNG, JPG, GIF (Max 5MB)",

  // Like system
  "like.liked": "Liked",
  "like.like": "Like",
  "like.connect_wallet": "Please connect wallet first",

  // Tip system
  "tip.title": "Tip",
  "tip.amount": "Tip Amount",
  "tip.send": "Send Tip",
  "tip.connect_wallet": "Please connect wallet first",
  "tip.story": "Tip Story",
  "tip.chapter": "Tip Chapter",
  "tip.story_author": "Story Author",
  "tip.chapter_author": "Chapter Author",
  "tip.support_creation": "Support quality content creation",
  "tip.select_amount": "Select tip amount",
  "tip.custom_amount": "Custom amount",
  "tip.enter_amount": "Enter amount...",
  "tip.fee_distribution": "Fee distribution:",
  "tip.author_receive": "{author}: {amount} STT",
  "tip.story_author_receive": "Story author: {amount} STT",
  "tip.chapter_author_receive": "Chapter author: {amount} STT",
  "tip.platform_fee": "Platform fee: {amount} STT",
  "tip.tipping": "Tipping...",
  "tip.success": "Tip successful!",
  "tip.failed": "Tip failed",

  // Home feature cards
  "home.feature1.title": "Start your creative journey. Each story is a unique NFT.",
  "home.feature2.title": "Explore amazing stories by other creators, discover infinite creative possibilities.",
  "home.feature3.title": "Fork stories you like, create your own story branches and endings.",

  // Story detail page specific translations
  "story.detail.back": "Back",
  "story.detail.updating": "Updating data...",
  "story.detail.story_cover": "Story Cover",
  "story.detail.story_tags": "Story Tags",
  "story.detail.story_structure": "Story Structure",
  "story.detail.total_chapters": "Total Chapters",
  "story.detail.fork_points": "Fork Points",
  "story.detail.tree_help": "Click nodes for details, use action buttons to interact",
  "story.detail.no_chapters": "No chapters yet",
  "story.detail.no_chapters_desc": "Anyone can add the first chapter to this story and start an amazing story journey",
  "story.detail.add_first_chapter": "Add First Chapter",
  "story.detail.continue_first_chapter": "Continue First Chapter",
  "story.detail.connect_wallet_desc": "Connect wallet to add the first chapter",
  "story.detail.continue_latest": "Continue Latest Chapter",
  "story.detail.fork_latest": "Fork Latest Chapter",
  "story.detail.add_chapter_tooltip": "Add new chapter (story author only)",
  "story.detail.continue_story": "Continue Story",
  "story.detail.fork_story_button": "Fork Story",
  "story.detail.fork_story_tooltip": "Create a fork based on this story",
  "story.detail.connect_wallet_actions": "Connect wallet to continue chapters or create forks",
  "story.detail.story_not_found": "Story does not exist or failed to load",
  "story.detail.load_failed": "Load Failed",
  "story.detail.retry": "Retry",

  // Chapter related translations
  "chapter.title": "Chapter {number}",
  "chapter.author_label": "Author:",
  "chapter.fork_fee_label": "Fork Fee: {fee} STT",
  "chapter.reading_detail": "Click to read detailed content",
  "chapter.forks_count": "{count} forks",
  "chapter.branches_count": "{count} branches",
  "chapter.story_fork_here": "Story forks here",
  "chapter.fork_description":
    "After Chapter {number}, there are {count} different development directions, each branch brings a different story experience. Choose the branch you're interested in to continue reading:",
  "chapter.select_branch": "Select Branch ({count})",
  "chapter.branch_label": "Branch {letter}",
  "chapter.read_chapter": "Read Chapter",
  "chapter.continue_chapter": "Continue",
  "chapter.fork_chapter": "Fork",
  "chapter.tip_chapter": "Tip",
  "chapter.connect_wallet_tip": "Please connect wallet first",
  "chapter.tip_tooltip": "Tip the chapter author",
  "chapter.continue_tooltip": "Continue this chapter",
  "chapter.fork_tooltip_base": "Create fork based on this chapter",
  "chapter.fork_tooltip_fee": "Create fork based on this chapter (requires {fee} STT)",
  "chapter.fork_fee_badge": "{fee} STT",
  "chapter.only_author_continue": "Only chapter author can continue their own chapter",
  "chapter.only_latest_continue": "Only the latest chapter can be continued",
  "chapter.continue_this_chapter": "Continue this chapter",
  "chapter.has_forks": "This chapter has {count} forks",
  "chapter.loading_title": "âš ï¸ Chapter title loading...",
  "chapter.loading_content": "Loading chapter title...",
  "chapter.retry_loading": "Reload chapter information",
  "chapter.loading_error_new": "New chapters may need a few minutes to sync, please try again later",
  "chapter.info_loading": "ğŸ“– Chapter information loading...",
  "chapter.reloading": "Reloading chapter information...",

  // Modal translations
  "modal.add_chapter.title": "Add New Chapter",
  "modal.add_chapter.chapter_title": "Chapter Title *",
  "modal.add_chapter.chapter_content": "Chapter Content *",
  "modal.add_chapter.title_placeholder": "Enter chapter title...",
  "modal.add_chapter.content_placeholder": "Continue your story...",
  "modal.add_chapter.fork_fee": "Fork Fee",
  "modal.add_chapter.fork_fee_unit": "STT",
  "modal.add_chapter.chapter_image": "Chapter Image",
  "modal.add_chapter.creating": "Creating...",
  "modal.add_chapter.create": "Create Chapter",
  "modal.continue_chapter.title": "Continue Chapter - Chapter {number}",
  "modal.continue_chapter.based_on": "Based on chapter:",
  "modal.continue_chapter.content_placeholder": "Continue this story...",
  "modal.continue_chapter.fork_fee_desc": "STT (required when others continue this chapter)",
  "modal.continue_chapter.continuing": "Continuing...",
  "modal.continue_chapter.continue": "Continue Chapter",
  "modal.fork_chapter.title": "Create Chapter Fork",
  "modal.fork_chapter.fork_title": "Fork Chapter Title *",
  "modal.fork_chapter.fork_content": "Fork Content *",
  "modal.fork_chapter.title_placeholder": "Enter fork chapter title...",
  "modal.fork_chapter.content_placeholder": "Start your fork chapter here...",
  "modal.fork_chapter.fork_fee_desc": "STT (required when others continue this fork chapter)",
  "modal.fork_chapter.chapter_note": "Will create a new chapter branch, still belongs to current story",
  "modal.fork_chapter.fee_required": "Fork fee required",
  "modal.fork_chapter.fee_description": "Forking this chapter requires {fee} STT",
  "modal.fork_chapter.forking": "Forking...",
  "modal.fork_chapter.fork_button": "Create Chapter Fork",
  "modal.fork_chapter.fork_button_fee": "Pay {fee} STT and Create Fork",

  // Error and success messages
  "error.wallet_connect_required": "Please connect wallet first",
  "error.title_content_required": "Title and content cannot be empty",
  "error.chapter_not_exist": "Chapter does not exist",
  "error.only_author_continue": "Only chapter author can continue their own chapter",
  "error.chapter_create_failed": "Create failed",
  "error.chapter_continue_failed": "Continue failed",
  "error.chapter_fork_failed": "Fork failed",
  "error.tip_failed": "Tip failed",
  "error.metadata_load_failed": "Failed to load chapter metadata",
  "success.chapter_created": "Chapter created successfully!",
  "success.chapter_continued": "Chapter continued successfully!",
  "success.chapter_forked": "Chapter forked successfully!",
  "prompt.tip_amount": "Please enter tip amount (STT):",
  "prompt.fork_confirm": "Forking this chapter requires {fee} STT to the original author. Are you sure to continue?",

  // Chapter reading page specific translations
  "chapter.read.loading": "Loading chapter...",
  "chapter.read.not_found": "Chapter not found",
  "chapter.read.back_to_story": "Back to Story",
  "chapter.read.previous": "Previous Chapter",
  "chapter.read.next": "Next Chapter",
  "chapter.read.tip": "Tip",
  "chapter.read.continue": "Continue",
  "chapter.read.fork": "Fork",
  "chapter.read.story_number": "Story #{id}",
  "chapter.read.chapter_number": "Chapter {number}",
  "chapter.read.story_fork_point": "Story Fork Point",
  "chapter.read.fork_description":
    "There are {count} different story development directions here, choose one to continue reading:",
  "chapter.read.branch_label": "Branch {number}",
  "chapter.read.current": "Current",
  "chapter.read.click_to_read": "Click to read this branch",
  "chapter.read.tip_earned": "{amount} STT",
  "chapter.read.next_branches": "Next Chapter ({count})",
  "chapter.read.invalid_content_id": "Invalid content identifier",
  "chapter.read.content_empty": "Content is empty",
  "chapter.read.load_content_failed": "Failed to load content",
  "chapter.read.chapter_image": "Chapter illustration",
  "chapter.read.get_data_failed": "Failed to get data",
  "chapter.read.load_story_metadata_failed": "Failed to load story metadata",
  "chapter.read.get_chapters_failed": "Failed to get chapters data",
  "chapter.read.connect_wallet_first": "Please connect wallet first",
  "chapter.read.input_tip_amount": "Enter tip amount (STT):",
  "chapter.read.tip_success": "Tip successful!",
  "chapter.read.tip_failed": "Tip failed",
  "chapter.read.return_to_story": "Return to story page",
  "chapter.read.connect_wallet_tip": "Please connect wallet first",
  "chapter.read.tip_author": "Tip the chapter author",

  // Fork page
  "fork.missing_story_id": "Missing story ID parameter",
  "fork.original_content_not_found": "Original content not found or failed to load",
  "fork.back": "Back",
  "fork.chapter_subtitle": "Create new story branch based on existing chapter",
  "fork.story_subtitle": "Create new story line based on existing story",
  "fork.fee_required_title": "Fork fee required",
  "fork.fee_required_desc": "Forking this {type} requires {fee} STT to the original author",
  "fork.original_story": "Original Story",
  "fork.original_chapter": "Original Chapter",
  "fork.likes": "likes",
  "fork.forks": "forks",
  "fork.fork_fee_label": "Fork fee",
  "fork.create_fork": "Create Fork",
  "fork.basic_info": "Basic Information",
  "fork.fork_title": "Fork Title *",
  "fork.fork_title_placeholder": "Give your fork a title...",
  "fork.fork_content": "Fork Content *",
  "fork.fork_content_placeholder": "Continue this story...",
  "fork.characters": "characters",
  "fork.chapter_illustration": "Chapter Illustration",
  "fork.economic_settings": "Economic Settings",
  "fork.my_fork_fee": "My Fork Fee",
  "fork.fork_fee_description": "Fee that others need to pay to fork your content",
  "fork.fee_distribution": "Fee distribution:",
  "fork.you_pay": "You need to pay: {fee} STT",
  "fork.story_author_gets": "Story author will get: {amount} STT",
  "fork.chapter_author_gets": "Chapter author will get: {amount} STT",
  "fork.platform_fee": "Platform fee: {amount} STT",
  "fork.forking": "Forking...",
  "fork.create_fork_button": "Create Fork",
};

export const LanguageProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [language, setLanguageState] = useState<Language>("en");

  // åˆå§‹åŒ–è¯­è¨€
  useEffect(() => {
    const savedLanguage = localStorage.getItem("storychain-language") as Language;
    if (savedLanguage && (savedLanguage === "zh" || savedLanguage === "en")) {
      setLanguageState(savedLanguage);
    } else {
      // æ£€æµ‹æµè§ˆå™¨è¯­è¨€
      const browserLanguage = navigator.language.toLowerCase();
      if (browserLanguage.includes("zh")) {
        setLanguageState("zh");
      }
    }
  }, []);

  const setLanguage = (lang: Language) => {
    setLanguageState(lang);
    localStorage.setItem("storychain-language", lang);
  };

  const t = (key: string, params?: Record<string, string | number>): string => {
    const translations = language === "zh" ? zhTranslations : enTranslations;
    let translation = translations[key] || key;

    // å¦‚æœæœ‰å‚æ•°ï¼Œè¿›è¡Œæ›¿æ¢
    if (params) {
      Object.entries(params).forEach(([paramKey, paramValue]) => {
        translation = translation.replace(new RegExp(`\\{${paramKey}\\}`, "g"), String(paramValue));
      });
    }

    return translation;
  };

  const value = {
    language,
    setLanguage,
    t,
  };

  return <LanguageContext.Provider value={value}>{children}</LanguageContext.Provider>;
};

export const useLanguage = () => {
  const context = useContext(LanguageContext);
  if (context === undefined) {
    throw new Error("useLanguage must be used within a LanguageProvider");
  }
  return context;
};
